<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Stylish Portfolio - Start Bootstrap Template</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/stylish-portfolio.min.css" rel="stylesheet">

  </head>

  <body id="page-top">
    <!-- Navigation -->
    <a class="menu-toggle rounded" href="#">
      <i class="fa fa-bars"></i>
    </a>
    <nav id="sidebar-wrapper">
      <ul class="sidebar-nav">
        <li class="sidebar-brand">
          <a>The Blue Alliance Event Info</a>
        </li>
        <li class="sidebar-nav-item">
		  <a id="data-reload" class="text-faded"><i id="data-reload-icon" class="fa fa-repeat"></i></a>
		</li>
       <li class="sidebar-nav-item">
       <div class="popup" onclick="myFunction('7','#match-number',2)">
       	<p id="match-number" class="text-faded mb-0">Match Number:</p>
       	<span class="popuptext" id="7">Team Number Copied!</span>
	   </div>
       </li>
        <li class="sidebar-nav-item">
        <table  width="400px" border="0">
  <tbody>
    <tr>
      <td>&nbsp;<p class="text-faded mb-0">Red 1</p></td>
      <td>&nbsp;<p class="text-faded mb-0">Red 2</p></td>
      <td>&nbsp;<p class="text-faded mb-0">Red 3</p></td>
      <td>&nbsp;<p class="text-faded mb-0">Blue 1</p></td>
      <td>&nbsp;<p class="text-faded mb-0">Blue 2</p></td>
      <td>&nbsp;<p class="text-faded mb-0">Blue 3</p></td>
    </tr>
    <tr>
      <td>&nbsp;
      	<div class="popup" onclick="myFunction('1','#red1',1)">
      		<p class="text-faded mb-0"  id="red1"></p>
      		<span class="popuptext" id="1">Team Number Copied!</span>
		</div>
      	
      </td>
      <td>&nbsp;
      	<div class="popup" onclick="myFunction('2','#red2',1)">
      		<p class="text-faded mb-0" id="red2"></p>
      		<span class="popuptext" id="2">Team Number Copied!</span>
		</div>
      </td>
      <td >&nbsp;
      	<div class="popup" onclick="myFunction('3','#red3',1)">
      		<p class="text-faded mb-0" id="red3"></p>
      		<span class="popuptext" id="3">Team Number Copied!</span>
		</div>
      </td>
      <td>&nbsp;
		<div class="popup" onclick="myFunction('4','#blue1',1)">
      		<p class="text-faded mb-0" id="blue1"></p>
      		<span class="popuptext" id="4">Team Number Copied!</span>
		</div>
      </td>
      <td>&nbsp;
      	<div class="popup" onclick="myFunction('5','#blue2',1)">
      		<p class="text-faded mb-0" id="blue2"></p>
      		<span class="popuptext" id="5">Team Number Copied!</span>
		</div>
      </td>
      <td>&nbsp;
      	<div class="popup" onclick="myFunction('6','#blue3',1)">
      		<p class="text-faded mb-0" id="blue3"></p>
      		<span class="popuptext" id="6">Team Number Copied!</span>
		</div>
      </td>
    </tr>
  </tbody>
</table>
     </li>
      </ul>
    </nav>

    <!-- Header -->
    <header class="masthead d-flex" id="form-area">
     <iframe class="masthead d-flex" src="https://docs.google.com/forms/d/e/1FAIpQLSdnPKQVgDK9obUeck2L-QbhGv8AjRMFg5Ogqi8CJP-3ZpRHGQ/viewform?embedded=true" >Loading...</iframe>
      <!--div class="container text-center my-auto">
       
        <h1 class="mb-1">Stylish Portfolio</h1>
        <h3 class="mb-5">
          <em>A Free Bootstrap Theme by Start Bootstrap</em>
        </h3>
      </div-->
      <div class="overlay"></div>
    </header>


    <!-- Footer -->
    <footer class="footer text-center" id="form-area2">
      <div class="container">
        <ul class="list-inline mb-5">
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white mr-3" href="#">
              <i class="icon-social-facebook"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white mr-3" href="#">
              <i class="icon-social-twitter"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a class="social-link rounded-circle text-white" href="#">
              <i class="icon-social-github"></i>
            </a>
          </li>
        </ul>
        <p class="text-muted small mb-0">Copyright &copy; Nikhil Patel 2018</p>
      </div>
    </footer>

    <!-- Scroll to Top Button-->


    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/stylish-portfolio.min.js"></script>
    
    <script>
		// When the user clicks on <div>, open the popup
		function myFunction(id,textId,funcType) {
    		var popup = document.getElementById(id);
    		popup.classList.toggle("show");
			
			setTimeout(function(){
				popup.classList.toggle("show");
			}, 1000);
			copyToClipboard(textId,funcType);
			
		}
		function copyToClipboard(element,thisFuncType) {
		  var $temp = $("<input>");
		  $("body").append($temp);
		  if (thisFuncType === 2){
			  $temp.val($(element).text().substring(14)).select();
		  } else {
		  	$temp.val($(element).text()).select();
		  }
		  document.execCommand("copy");
		  $temp.remove();
		}
		
		
		
	</script>
	<script>
		window.onload = function(){
		  var requestResponse = this.responseText;
		  var json = JSON.parse(requestResponse);
		  var nextMatch = null; //This is the object we'll push data from
		  var matchList = [];
		  var i;
		  for (i = 0; i < json.length; i++){
			  if (json[i]['comp_level'] === "qm"){
				matchList.push(json[i]);
			  }
		  }
		  matchList.sort(function(a, b) {
			return parseInt(a['match_number']) - parseInt(b['match_number']);
		  });
		  var i2;
		  for (i2 = 0; i2 < matchList.length; i2++){
			  //json[i]['match_number'] = json[i2]['match_number'].parseInt();
			  if (nextMatch === null){
				  if (matchList[i2]['actual_time'] === "None"){
					  nextMatch = matchList[i2];
				  } else if (parseInt(matchList[i2]['match_number']) === matchList.length){
					  nextMatch = matchList[i2];
				  }
			  }

		  }
		  if (nextMatch === undefined){
			  nextMatch=matchList[matchList.length - 1];
		  }
		  
		  $('#red1').text(nextMatch['alliances']['red']['team_keys'][0].substring(3));
		  $('#red2').text(nextMatch['alliances']['red']['team_keys'][1].substring(3));
		  $('#red3').text(nextMatch['alliances']['red']['team_keys'][2].substring(3));
		  $('#blue1').text(nextMatch['alliances']['blue']['team_keys'][0].substring(3));
		  $('#blue2').text(nextMatch['alliances']['blue']['team_keys'][1].substring(3));
		  $('#blue3').text(nextMatch['alliances']['blue']['team_keys'][2].substring(3));
		  $('#match-number').text("Match Number: " + nextMatch['match_number']);
	  });
	  oReq.open("GET", "https://www.thebluealliance.com/api/v3/event/2018cada/matches");
	  oReq.setRequestHeader('X-TBA-Auth-Key', 'LMeBTtUalhpU7umirIfYv73sWmfSojG5HHRh9cjR7df1JSiLVGOxc5fUx18c6Stp');
	  oReq.send();
  });
  </script>
  </body>

</html>
